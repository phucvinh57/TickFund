<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="css/bootstrap.min.css" />
	<script language="javascript" src="js/bootstrap.min.js"></script>
	<style>
		.tl-bg-color {
			border: #1aa79c;
			background-color: #1aa79c;
		}

		.tl-bg-color:hover {
			border: #119287;
			background-color: #119287;
		}

		.divider:after,
		.divider:before {
			content: "";
			flex: 1;
			height: 1px;
			background: #eee;
		}

		.h-custom {
			height: calc(100% - 73px);
		}

		@media (max-width: 450px) {
			.h-custom {
				height: 100%;
			}
		}
	</style>

	<title>TickLab CAS</title>
</head>

<body>
	<section class="vh-100">
		<div class="container-fluid h-custom">
			<div class="row d-flex justify-content-center align-items-center h-100">
				<div class="col-md-9 col-lg-6 col-xl-5">
					<img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp"
						class="img-fluid" alt="Sample image">
				</div>
				<div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
					<form method="post" action="/auth/login" id="login-form">
						<!-- Email input -->
						<div class="form-outline mb-3">
							<label class="form-label" for="email">Email address:</label>
							<input type="email" id="email" class="form-control"
								placeholder="Enter a valid email address" required name="email" />
						</div>

						<!-- Password input -->
						<div class="form-outline mb-3">
							<label class="form-label" for="password">Password:</label>
							<input type="password" id="password" class="form-control" placeholder="************"
								required name="password" />
						</div>

						<div class="mt-4">
							<input type="submit" class="rounded w-100 tl-bg-color p-2 text-white" value="Login"
								id="submit" />
						</div>

					</form>
				</div>
			</div>
	</section>

	<script>
		document.getElementById("submit").onclick = e => {
			const urlParams = new URLSearchParams(window.location.search)
			const serviceCallbackUrl = urlParams.get("serviceCallbackUrl")
			const appCallbackUrl = urlParams.get("appCallbackUrl")

			const form = document.getElementById("login-form")
			if (serviceCallbackUrl) {
				form.action = `/auth/login?serviceCallbackUrl=${serviceCallbackUrl}&appCallbackUrl=${appCallbackUrl}`
			}
			else {
				form.action = `/auth/login`
			}
			form.submit()
		};
	</script>
</body>

</html>